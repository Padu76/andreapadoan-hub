<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Andrea Padoan - Personal trainer e nutrizionista a Verona</title>
    <meta name="description" content="Personal trainer e nutrizionista a Verona. Allenamenti personalizzati, pasti sani pronti e business coaching. Risultati garantiti in 90 giorni. Chiedimi tutto in chat!">
    <meta name="keywords" content="personal trainer verona, pasti sani verona, meal prep, business coaching, nutrizionista verona">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <!-- Header -->
    <div id="header-container"></div>
    
    <!-- Hero Section -->
    <div id="hero-container"></div>
    
    <!-- Services Section -->
    <div id="services-container"></div>
    
    <!-- Chat Section -->
    <div id="chat-section-container"></div>
    
    <!-- Chat Fullscreen (always present) -->
    <div id="chat-fullscreen-container"></div>
    
    <!-- Projects List -->
    <div id="projects-list-container"></div>
    
    <!-- Social Section -->
    <div id="social-container"></div>
    
    <!-- Contact Section -->
    <div id="contact-container"></div>

    <!-- Main JavaScript -->
    <script src="./js/main.js"></script>
    
    <!-- Load Components -->
    <script>
        // ======================================
        // üì¶ COMPONENT LOADER
        // ======================================
        
        const components = [
            { id: 'header-container', file: './components/header.html' },
            { id: 'hero-container', file: './components/hero.html' },
            { id: 'services-container', file: './components/services.html' },
            { id: 'chat-section-container', file: './components/chat-section.html' },
            { id: 'chat-fullscreen-container', file: './components/chat-fullscreen.html' },
            { id: 'projects-list-container', file: './components/projects-list.html' },
            { id: 'social-container', file: './components/social.html' },
            { id: 'contact-container', file: './components/contact.html' }
        ];

        // Load component function
        async function loadComponent(containerId, filePath) {
            try {
                const response = await fetch(filePath);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const html = await response.text();
                const container = document.getElementById(containerId);
                if (container) {
                    container.innerHTML = html;
                } else {
                    console.warn(`Container ${containerId} not found`);
                }
            } catch (error) {
                console.error(`Error loading component ${filePath}:`, error);
                // Fallback: show error message
                const container = document.getElementById(containerId);
                if (container) {
                    container.innerHTML = `<div style="color: red; padding: 20px; text-align: center;">Errore nel caricamento della sezione. Ricarica la pagina.</div>`;
                }
            }
        }

        // Load all components
        async function loadAllComponents() {
            console.log('üîÑ Loading components...');
            
            const loadPromises = components.map(component => 
                loadComponent(component.id, component.file)
            );
            
            try {
                await Promise.all(loadPromises);
                console.log('‚úÖ All components loaded successfully');
                
                // Initialize app after components are loaded
                if (typeof initializeApp === 'function') {
                    initializeApp();
                }
            } catch (error) {
                console.error('‚ùå Error loading components:', error);
            }
        }

        // Load components when DOM is ready
        document.addEventListener('DOMContentLoaded', loadAllComponents);
    </script>
</body>
</html>