<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Fitness - Testa il tuo livello | Andrea Padoan</title>
    <meta name="description" content="Scopri il tuo livello di fitness e ricevi consigli personalizzati da Andrea Padoan. Quiz gratuito di 3 minuti.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #000 0%, #1a1a1a 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header con tasto Home */
        .quiz-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 107, 53, 0.2);
        }

        .home-btn {
            background: linear-gradient(45deg, #ff6b35, #ff8533);
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .home-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 107, 53, 0.4);
        }

        .quiz-logo {
            color: #ff6b35;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.1);
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
            width: 200px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #ff6b35, #4ade80);
            height: 100%;
            border-radius: 2px;
            transition: width 0.3s ease;
            width: 0%;
        }

        /* Quiz Container */
        .quiz-container {
            padding-top: 80px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 100px 20px 50px;
        }

        .quiz-card {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.9), rgba(40, 40, 40, 0.8));
            border-radius: 25px;
            padding: 60px 50px;
            max-width: 800px;
            width: 100%;
            text-align: center;
            border: 2px solid rgba(255, 107, 53, 0.2);
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        /* Welcome Screen */
        .welcome-screen {
            display: block;
        }

        .welcome-title {
            color: #ff6b35;
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 900;
            margin-bottom: 25px;
            line-height: 1.2;
        }

        .welcome-subtitle {
            color: #e0e0e0;
            font-size: clamp(1.2rem, 2.5vw, 1.5rem);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .welcome-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .welcome-feature {
            background: rgba(255, 107, 53, 0.1);
            border: 1px solid rgba(255, 107, 53, 0.3);
            border-radius: 15px;
            padding: 25px 20px;
        }

        .welcome-feature i {
            color: #ff6b35;
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .welcome-feature h3 {
            color: #fff;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .welcome-feature p {
            color: #b0b0b0;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .start-quiz-btn {
            background: linear-gradient(45deg, #ff6b35, #ff8c5a);
            color: white;
            border: none;
            padding: 20px 50px;
            border-radius: 30px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
        }

        .start-quiz-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 35px rgba(255, 107, 53, 0.6);
        }

        /* Quiz Questions */
        .quiz-screen {
            display: none;
        }

        .question-counter {
            color: #ff6b35;
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .question-title {
            color: #fff;
            font-size: clamp(1.5rem, 3vw, 2.2rem);
            font-weight: bold;
            margin-bottom: 40px;
            line-height: 1.3;
        }

        .answers-grid {
            display: grid;
            gap: 15px;
            margin-bottom: 40px;
        }

        .answer-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            color: #e0e0e0;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
        }

        .answer-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 107, 53, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .answer-option:hover {
            border-color: rgba(255, 107, 53, 0.5);
            background: rgba(255, 107, 53, 0.1);
            transform: translateX(5px);
        }

        .answer-option:hover::before {
            left: 100%;
        }

        .answer-option.selected {
            border-color: #ff6b35;
            background: rgba(255, 107, 53, 0.2);
            color: #fff;
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .next-btn {
            background: linear-gradient(45deg, #ff6b35, #ff8533);
            border: none;
        }

        .next-btn:hover {
            background: linear-gradient(45deg, #ff8533, #ffa366);
            box-shadow: 0 6px 20px rgba(255, 107, 53, 0.3);
        }

        /* Results Screen */
        .results-screen {
            display: none;
        }

        .results-title {
            color: #4ade80;
            font-size: clamp(2.2rem, 4vw, 3rem);
            font-weight: 900;
            margin-bottom: 25px;
        }

        .results-subtitle {
            color: #e0e0e0;
            font-size: 1.3rem;
            margin-bottom: 40px;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .result-category {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px 20px;
            text-align: center;
        }

        .category-name {
            color: #fff;
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .score-display {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-bottom: 15px;
        }

        .score-star {
            width: 25px;
            height: 25px;
            color: #666;
            font-size: 1.2rem;
        }

        .score-star.filled {
            color: #ffd700;
        }

        .category-description {
            color: #b0b0b0;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .results-report {
            background: rgba(255, 107, 53, 0.1);
            border: 1px solid rgba(255, 107, 53, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            text-align: left;
        }

        .report-title {
            color: #ff6b35;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .report-text {
            color: #e0e0e0;
            line-height: 1.7;
            font-size: 1rem;
        }

        .results-actions {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 15px 30px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .primary-action {
            background: linear-gradient(45deg, #ff6b35, #ff8533);
            color: white;
        }

        .secondary-action {
            background: transparent;
            color: #4ade80;
            border-color: #4ade80;
        }

        .action-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
        }

        /* Loading Animation */
        .loading-screen {
            display: none;
            text-align: center;
        }

        .loading-title {
            color: #ff6b35;
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 107, 53, 0.2);
            border-top: 4px solid #ff6b35;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: #b0b0b0;
            font-size: 1.1rem;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .quiz-card {
                padding: 40px 25px;
                margin: 20px;
            }

            .welcome-features {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .quiz-navigation {
                flex-direction: column;
                gap: 15px;
            }

            .nav-btn {
                width: 100%;
                justify-content: center;
            }

            .results-actions {
                flex-direction: column;
                align-items: center;
            }

            .action-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }

            .progress-bar {
                width: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="quiz-header">
        <a href="./" class="home-btn">
            <i class="fas fa-home"></i>
            Home
        </a>
        <div class="quiz-logo">
            ðŸŽ¯ Fitness Quiz
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar"></div>
        </div>
    </div>

    <!-- Quiz Container -->
    <div class="quiz-container">
        <div class="quiz-card">
            <!-- Welcome Screen -->
            <div class="welcome-screen" id="welcomeScreen">
                <h1 class="welcome-title">ðŸŽ¯ Testa il Tuo Livello Fitness</h1>
                <p class="welcome-subtitle">
                    Scopri dove sei oggi e ricevi un report personalizzato con consigli specifici per migliorare il tuo benessere
                </p>
                
                <div class="welcome-features">
                    <div class="welcome-feature">
                        <i class="fas fa-chart-line"></i>
                        <h3>Analisi Completa</h3>
                        <p>Valutiamo fitness, alimentazione, abitudini e motivazione</p>
                    </div>
                    <div class="welcome-feature">
                        <i class="fas fa-star"></i>
                        <h3>Score Personalizzato</h3>
                        <p>Ricevi un punteggio da 1 a 5 per ogni area della tua vita</p>
                    </div>
                    <div class="welcome-feature">
                        <i class="fas fa-lightbulb"></i>
                        <h3>Consigli Pratici</h3>
                        <p>Suggerimenti specifici per migliorare immediatamente</p>
                    </div>
                </div>
                
                <button class="start-quiz-btn" onclick="startQuiz()">
                    <i class="fas fa-play-circle"></i>
                    Inizia il Quiz (3 min)
                </button>
            </div>

            <!-- Quiz Screen -->
            <div class="quiz-screen" id="quizScreen">
                <div class="question-counter" id="questionCounter">Domanda 1 di 20</div>
                <h2 class="question-title" id="questionTitle"></h2>
                <div class="answers-grid" id="answersGrid"></div>
                
                <div class="quiz-navigation">
                    <button class="nav-btn" id="prevBtn" onclick="previousQuestion()" disabled>
                        <i class="fas fa-arrow-left"></i>
                        Precedente
                    </button>
                    <button class="nav-btn next-btn" id="nextBtn" onclick="nextQuestion()" disabled>
                        Prossima
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Loading Screen -->
            <div class="loading-screen" id="loadingScreen">
                <h2 class="loading-title">ðŸ§  Analizzo i tuoi risultati...</h2>
                <div class="loading-spinner"></div>
                <p class="loading-text">Sto creando il tuo report personalizzato</p>
            </div>

            <!-- Results Screen -->
            <div class="results-screen" id="resultsScreen">
                <h2 class="results-title">ðŸŽ‰ Ecco il Tuo Report!</h2>
                <p class="results-subtitle">Analisi completa del tuo stile di vita</p>
                
                <div class="results-grid" id="resultsGrid"></div>
                
                <div class="results-report">
                    <h3 class="report-title">ðŸ“‹ Report Personalizzato</h3>
                    <div class="report-text" id="reportText"></div>
                </div>
                
                <div class="results-actions">
                    <a href="https://wa.me/3478881515?text=Ciao Andrea! Ho fatto il quiz fitness e vorrei migliorare il mio livello. Puoi aiutarmi?" class="action-btn primary-action" target="_blank">
                        <i class="fab fa-whatsapp"></i>
                        Parla con Andrea
                    </a>
                    <a href="./" class="action-btn secondary-action">
                        <i class="fas fa-home"></i>
                        Torna alla Home
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Quiz Data
        const quizQuestions = [
            {
                id: 1,
                category: "fitness",
                question: "Quante volte ti alleni alla settimana?",
                answers: [
                    { text: "Mai o raramente", score: 1 },
                    { text: "1-2 volte", score: 2 },
                    { text: "3-4 volte", score: 4 },
                    { text: "5+ volte", score: 5 }
                ]
            },
            {
                id: 2,
                category: "fitness",
                question: "Come descriveresti il tuo livello di energia durante il giorno?",
                answers: [
                    { text: "Sempre stanco e spossato", score: 1 },
                    { text: "Spesso stanco, soprattutto nel pomeriggio", score: 2 },
                    { text: "Generalmente buono, con qualche calo", score: 3 },
                    { text: "Alto e costante per tutta la giornata", score: 5 }
                ]
            },
            {
                id: 3,
                category: "alimentazione",
                question: "Quanti pasti principali fai al giorno?",
                answers: [
                    { text: "1-2 pasti, spesso salto la colazione", score: 1 },
                    { text: "2-3 pasti irregolari", score: 2 },
                    { text: "3 pasti regolari", score: 4 },
                    { text: "3 pasti + spuntini sani", score: 5 }
                ]
            },
            {
                id: 4,
                category: "alimentazione",
                question: "Quanto spesso mangi frutta e verdura?",
                answers: [
                    { text: "Raramente, meno di 2 porzioni al giorno", score: 1 },
                    { text: "2-3 porzioni al giorno", score: 2 },
                    { text: "4-5 porzioni al giorno", score: 4 },
                    { text: "5+ porzioni al giorno", score: 5 }
                ]
            },
            {
                id: 5,
                category: "abitudini",
                question: "Quante ore dormi mediamente per notte?",
                answers: [
                    { text: "Meno di 5 ore", score: 1 },
                    { text: "5-6 ore", score: 2 },
                    { text: "7-8 ore", score: 5 },
                    { text: "PiÃ¹ di 9 ore", score: 3 }
                ]
            },
            {
                id: 6,
                category: "abitudini",
                question: "Quanto tempo passi davanti agli schermi (TV, telefono, computer) nel tempo libero?",
                answers: [
                    { text: "PiÃ¹ di 6 ore al giorno", score: 1 },
                    { text: "4-6 ore al giorno", score: 2 },
                    { text: "2-4 ore al giorno", score: 3 },
                    { text: "Meno di 2 ore al giorno", score: 5 }
                ]
            },
            {
                id: 7,
                category: "motivazione",
                question: "Quanto sei motivato a migliorare la tua forma fisica?",
                answers: [
                    { text: "Per niente, non Ã¨ una prioritÃ ", score: 1 },
                    { text: "Poco, ci penso ma non agisco", score: 2 },
                    { text: "Abbastanza, ho provato ma senza costanza", score: 3 },
                    { text: "Molto, sono pronto a impegnarmi seriamente", score: 5 }
                ]
            },
            {
                id: 8,
                category: "stress",
                question: "Come gestisci lo stress quotidiano?",
                answers: [
                    { text: "Non lo gestisco, mi sento sempre sopraffatto", score: 1 },
                    { text: "Con difficoltÃ , spesso sono ansioso", score: 2 },
                    { text: "Abbastanza bene, con alcune tecniche", score: 4 },
                    { text: "Molto bene, ho strategie efficaci", score: 5 }
                ]
            },
            {
                id: 9,
                category: "fitness",
                question: "Quanto tempo puoi dedicare all'attivitÃ  fisica ogni giorno?",
                answers: [
                    { text: "Nessuno, non ho tempo", score: 1 },
                    { text: "15-30 minuti", score: 3 },
                    { text: "30-60 minuti", score: 4 },
                    { text: "PiÃ¹ di 1 ora", score: 5 }
                ]
            },
            {
                id: 10,
                category: "alimentazione",
                question: "Quanto spesso mangi cibi processati o fast food?",
                answers: [
                    { text: "Quasi ogni giorno", score: 1 },
                    { text: "3-4 volte a settimana", score: 2 },
                    { text: "1-2 volte a settimana", score: 3 },
                    { text: "Raramente o mai", score: 5 }
                ]
            },
            {
                id: 11,
                category: "abitudini",
                question: "Quanto acqua bevi al giorno?",
                answers: [
                    { text: "Meno di 1 litro", score: 1 },
                    { text: "1-1.5 litri", score: 2 },
                    { text: "1.5-2 litri", score: 4 },
                    { text: "PiÃ¹ di 2 litri", score: 5 }
                ]
            },
            {
                id: 12,
                category: "motivazione",
                question: "Qual Ã¨ il tuo principale ostacolo nel mantenersi in forma?",
                answers: [
                    { text: "Mancanza totale di motivazione", score: 1 },
                    { text: "Non so da dove iniziare", score: 2 },
                    { text: "Mancanza di tempo", score: 3 },
                    { text: "Non ho ostacoli significativi", score: 5 }
                ]
            },
            {
                id: 13,
                category: "fitness",
                question: "Come ti senti fisicamente dopo una giornata di lavoro?",
                answers: [
                    { text: "Completamente esausto", score: 1 },
                    { text: "Molto stanco e dolorante", score: 2 },
                    { text: "Stanco ma gestibile", score: 3 },
                    { text: "Energico e pronto per altre attivitÃ ", score: 5 }
                ]
            },
            {
                id: 14,
                category: "alimentazione",
                question: "Pianifichi i tuoi pasti in anticipo?",
                answers: [
                    { text: "Mai, mangio quello che capita", score: 1 },
                    { text: "Raramente, solo occasionalmente", score: 2 },
                    { text: "A volte, per alcuni pasti", score: 3 },
                    { text: "Sempre, ho un piano alimentare", score: 5 }
                ]
            },
            {
                id: 15,
                category: "stress",
                question: "Quanto spesso ti senti ansioso o stressato?",
                answers: [
                    { text: "Quasi sempre", score: 1 },
                    { text: "Spesso (4-5 giorni a settimana)", score: 2 },
                    { text: "A volte (2-3 giorni a settimana)", score: 3 },
                    { text: "Raramente o mai", score: 5 }
                ]
            },
            {
                id: 16,
                category: "abitudini",
                question: "Hai una routine mattutina strutturata?",
                answers: [
                    { text: "No, ogni mattina Ã¨ caotica", score: 1 },
                    { text: "A volte, dipende dalla giornata", score: 2 },
                    { text: "SÃ¬, ma semplice", score: 4 },
                    { text: "SÃ¬, dettagliata e motivante", score: 5 }
                ]
            },
            {
                id: 17,
                category: "motivazione",
                question: "Hai mai seguito un programma fitness per piÃ¹ di 3 mesi?",
                answers: [
                    { text: "Mai", score: 1 },
                    { text: "SÃ¬, ma ho smesso", score: 2 },
                    { text: "SÃ¬, con interruzioni", score: 3 },
                    { text: "SÃ¬, con costanza", score: 5 }
                ]
            },
            {
                id: 18,
                category: "fitness",
                question: "Come valuti la tua forza fisica attuale?",
                answers: [
                    { text: "Molto scarsa", score: 1 },
                    { text: "Sotto la media", score: 2 },
                    { text: "Nella media", score: 3 },
                    { text: "Buona o eccellente", score: 5 }
                ]
            },
            {
                id: 19,
                category: "alimentazione",
                question: "Quanto spesso cucini pasti sani a casa?",
                answers: [
                    { text: "Mai, mangio sempre fuori", score: 1 },
                    { text: "1-2 volte a settimana", score: 2 },
                    { text: "3-5 volte a settimana", score: 4 },
                    { text: "Quasi sempre", score: 5 }
                ]
            },
            {
                id: 20,
                category: "motivazione",
                question: "Qual Ã¨ il tuo obiettivo principale?",
                answers: [
                    { text: "Non ho obiettivi chiari", score: 1 },
                    { text: "Perdere peso", score: 3 },
                    { text: "Aumentare energia e benessere", score: 4 },
                    { text: "Trasformazione completa dello stile di vita", score: 5 }
                ]
            }
        ];

        // Quiz State
        let currentQuestion = 0;
        let answers = {};
        let totalScore = 0;

        // Functions
        function startQuiz() {
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            showQuestion();
        }

        function showQuestion() {
            const question = quizQuestions[currentQuestion];
            document.getElementById('questionCounter').textContent = `Domanda ${currentQuestion + 1} di ${quizQuestions.length}`;
            document.getElementById('questionTitle').textContent = question.question;
            
            const answersGrid = document.getElementById('answersGrid');
            answersGrid.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const answerElement = document.createElement('div');
                answerElement.className = 'answer-option';
                answerElement.textContent = answer.text;
                answerElement.onclick = () => selectAnswer(index, answer.score);
                answersGrid.appendChild(answerElement);
            });
            
            updateProgress();
            updateNavigation();
        }

        function selectAnswer(answerIndex, score) {
            // Remove previous selection
            document.querySelectorAll('.answer-option').forEach(el => el.classList.remove('selected'));
            
            // Add selection to clicked answer
            document.querySelectorAll('.answer-option')[answerIndex].classList.add('selected');
            
            // Store answer
            answers[currentQuestion] = {
                questionId: quizQuestions[currentQuestion].id,
                category: quizQuestions[currentQuestion].category,
                score: score,
                answerIndex: answerIndex
            };
            
            // Enable next button
            document.getElementById('nextBtn').disabled = false;
        }

        function nextQuestion() {
            if (currentQuestion < quizQuestions.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                finishQuiz();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
                
                // Restore previous answer if exists
                if (answers[currentQuestion]) {
                    const answerIndex = answers[currentQuestion].answerIndex;
                    document.querySelectorAll('.answer-option')[answerIndex].classList.add('selected');
                    document.getElementById('nextBtn').disabled = false;
                }
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function updateNavigation() {
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').disabled = !answers[currentQuestion];
            
            if (currentQuestion === quizQuestions.length - 1) {
                document.getElementById('nextBtn').innerHTML = '<i class="fas fa-check"></i> Completa Quiz';
            } else {
                document.getElementById('nextBtn').innerHTML = 'Prossima <i class="fas fa-arrow-right"></i>';
            }
        }

        function finishQuiz() {
            // Show loading screen
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('loadingScreen').style.display = 'block';
            
            // Simulate AI processing
            setTimeout(() => {
                calculateResults();
                showResults();
            }, 3000);
        }

        function calculateResults() {
            const categoryScores = {
                fitness: { total: 0, count: 0 },
                alimentazione: { total: 0, count: 0 },
                abitudini: { total: 0, count: 0 },
                motivazione: { total: 0, count: 0 },
                stress: { total: 0, count: 0 }
            };
            
            // Calculate category averages
            Object.values(answers).forEach(answer => {
                if (categoryScores[answer.category]) {
                    categoryScores[answer.category].total += answer.score;
                    categoryScores[answer.category].count++;
                }
            });
            
            // Calculate final scores
            for (let category in categoryScores) {
                if (categoryScores[category].count > 0) {
                    categoryScores[category].average = Math.round(categoryScores[category].total / categoryScores[category].count);
                }
            }
            
            window.quizResults = categoryScores;
        }

        function showResults() {
            document.getElementById('loadingScreen').style.display = 'none';
            document.getElementById('resultsScreen').style.display = 'block';
            
            const resultsGrid = document.getElementById('resultsGrid');
            resultsGrid.innerHTML = '';
            
            const categoryNames = {
                fitness: 'Forma Fisica',
                alimentazione: 'Alimentazione',
                abitudini: 'Abitudini Salutari',
                motivazione: 'Motivazione',
                stress: 'Gestione Stress'
            };
            
            // Display category scores
            for (let category in window.quizResults) {
                if (window.quizResults[category].count > 0) {
                    const score = window.quizResults[category].average;
                    const categoryElement = document.createElement('div');
                    categoryElement.className = 'result-category';
                    categoryElement.innerHTML = `
                        <div class="category-name">${categoryNames[category]}</div>
                        <div class="score-display">
                            ${Array.from({length: 5}, (_, i) => 
                                `<i class="fas fa-star score-star ${i < score ? 'filled' : ''}"></i>`
                            ).join('')}
                        </div>
                        <div class="category-description">${getScoreDescription(score)}</div>
                    `;
                    resultsGrid.appendChild(categoryElement);
                }
            }
            
            // Generate personalized report
            generateReport();
        }

        function getScoreDescription(score) {
            const descriptions = {
                1: 'Area che necessita miglioramento immediato',
                2: 'C\'Ã¨ spazio per crescere',
                3: 'Livello discreto, ma migliorabile',
                4: 'Buon livello, continua cosÃ¬',
                5: 'Eccellente! Sei un esempio'
            };
            return descriptions[score] || '';
        }

        function generateReport() {
            const scores = window.quizResults;
            const overallAverage = Object.values(scores)
                .filter(cat => cat.count > 0)
                .reduce((sum, cat) => sum + cat.average, 0) / 
                Object.values(scores).filter(cat => cat.count > 0).length;
            
            let report = `Ciao! Ho analizzato le tue risposte e il tuo punteggio complessivo Ã¨ ${overallAverage.toFixed(1)}/5. `;
            
            // Personalized recommendations based on lowest scores
            const sortedCategories = Object.entries(scores)
                .filter(([_, data]) => data.count > 0)
                .sort(([_, a], [__, b]) => a.average - b.average);
            
            const weakestArea = sortedCategories[0];
            const strongestArea = sortedCategories[sortedCategories.length - 1];
            
            if (weakestArea[1].average <= 2) {
                report += `La tua area che necessita piÃ¹ attenzione Ã¨ ${getCategoryName(weakestArea[0])} con ${weakestArea[1].average}/5. `;
                report += getAreaAdvice(weakestArea[0], 'improvement');
            } else if (overallAverage >= 4) {
                report += `Complimenti! Hai un ottimo stile di vita. `;
                report += `Il tuo punto di forza Ã¨ ${getCategoryName(strongestArea[0])} con ${strongestArea[1].average}/5. `;
                report += getAreaAdvice(strongestArea[0], 'maintain');
            } else {
                report += `Hai una buona base su cui lavorare. `;
                report += getAreaAdvice(weakestArea[0], 'improvement');
            }
            
            report += ` Per massimizzare i tuoi risultati, ti consiglio di iniziare con piccoli cambiamenti costanti. `;
            report += `Ricorda: ogni piccolo passo conta verso la trasformazione che desideri!`;
            
            document.getElementById('reportText').textContent = report;
        }

        function getCategoryName(category) {
            const names = {
                fitness: 'la forma fisica',
                alimentazione: 'l\'alimentazione',
                abitudini: 'le abitudini salutari',
                motivazione: 'la motivazione',
                stress: 'la gestione dello stress'
            };
            return names[category] || category;
        }

        function getAreaAdvice(category, type) {
            const advice = {
                fitness: {
                    improvement: 'Inizia con 15-20 minuti di movimento al giorno. Anche una camminata veloce puÃ² fare la differenza! ',
                    maintain: 'Continua con la tua routine e considera di aggiungere varietÃ  agli allenamenti. '
                },
                alimentazione: {
                    improvement: 'Pianifica i pasti in anticipo e aumenta il consumo di frutta e verdura. Piccoli cambiamenti portano grandi risultati! ',
                    maintain: 'La tua alimentazione Ã¨ sulla buona strada. Mantieni questa consistenza! '
                },
                abitudini: {
                    improvement: 'Crea una routine mattutina e serale. Dormi 7-8 ore e limita il tempo davanti agli schermi. ',
                    maintain: 'Le tue abitudini sono ottime. Continua cosÃ¬ e magari aggiungi qualche nuova abitudine positiva! '
                },
                motivazione: {
                    improvement: 'Definisci obiettivi chiari e celebra ogni piccolo progresso. La motivazione cresce con l\'azione! ',
                    maintain: 'La tua motivazione Ã¨ forte! Usala per ispirare anche altri nel tuo percorso. '
                },
                stress: {
                    improvement: 'Prova tecniche di respirazione o meditazione. Anche 5 minuti al giorno possono ridurre significativamente lo stress. ',
                    maintain: 'Gestisci molto bene lo stress. Condividi le tue strategie con chi ne ha bisogno! '
                }
            };
            return advice[category]?.[type] || '';
        }

        function scrollToQuiz() {
            window.location.href = './#quiz-section';
        }

        // Initialize quiz
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ðŸŽ¯ Quiz loaded with', quizQuestions.length, 'questions');
        });
    </script>
</body>
</html>